<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Verträge/Sparten</title>
  <link rel="stylesheet" href="../../styles/base.css"/>
</head>
<body>
  <div class="page" style="padding:16px;">
    <div class="row">
      <div class="col-12"><div class="card"><h2 style="margin:4px 0 10px;">Verträge/Sparten</h2>
<div class="row">
  <div class="col-12">
    <div class="card">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
        <h3 style="margin:0;">Verträge</h3>
        <div style="display:flex; gap:8px;">
          <button class="btn" id="import">Import JSON</button>
          <button class="btn" id="export">Export JSON</button>
          <button class="btn btn-primary" id="add">Neu</button>
        </div>
      </div>
      <table class="table" id="table">
        <thead><tr><th>Versicherer</th><th>Sparten</th><th>Beitrag/Jahr</th><th>Empfehlung</th><th>Ersparnis</th><th></th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</div>

<div id="modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); align-items:center; justify-content:center;">
  <div class="card" style="width:860px; max-width:95vw; background:#032540;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h3 id="m-title">Vertrag</h3>
      <button class="btn" id="m-close">ESC</button>
    </div>
    <form id="m-form">
      <div class="row">
        <div class="col-6"><label>Versicherer</label><input name="versicherer" required type="text"></div>
        <div class="col-6"><label>Produkt (optional)</label><input name="produkt" type="text"></div>
        <div class="col-4"><label>Police-Nr.</label><input name="policeNr" required type="text"></div>
        <div class="col-4"><label>Beginn</label><input name="beginn" required type="date"></div>
        <div class="col-4"><label>Zahlweise</label>
          <select name="zahlweise">
            <option>jährlich</option><option>halbjährlich</option><option>vierteljährlich</option><option>monatlich</option>
          </select>
        </div>
        <div class="col-4"><label>Jahresbeitrag Brutto (€)</label><input name="jahresbeitragBrutto" required type="number" step="0.01"></div>
        <div class="col-4"><label>Deckungssumme (optional, €)</label><input name="deckungssumme" type="number" step="0.01"></div>
        <div class="col-4"><label>Selbstbehalt (optional, €)</label><input name="selbstbehalt" type="number" step="0.01"></div>
        <div class="col-12"><label>Sparten (Mehrfachauswahl)</label>
          <select name="sparten" multiple size="6">
            <option>Betriebshaftpflicht</option><option>Inhalt</option><option>Gebäude</option><option>Ertragsausfall/BU</option><option>Cyber</option><option>Rechtsschutz</option><option>D&O</option><option>Gruppenunfall</option>
          </select>
        </div>
        <div class="col-12"><label>Versicherte Gefahren (Mehrfachauswahl)</label>
          <select name="gefahren" multiple size="7">
            <option>Feuer</option><option>Leitungswasser</option><option>Einbruchdiebstahl</option><option>Sturm/Hagel</option><option>Elementar</option><option>Haftpflicht</option><option>Eigenschäden</option><option>Forensik</option><option>Datenwiederherstellung</option><option>Betriebsunterbrechung</option><option>Organhaftung</option><option>Arbeits-RS</option><option>Vertrags-RS</option><option>Straf-RS</option><option>Unfalltod</option><option>Invalidität</option><option>Krankenhaustagegeld</option>
          </select>
        </div>
        <div class="col-12"><label>Empfehlungen (optional, Komma-getrennt)</label><input name="empfehlungen" type="text" placeholder="Versicherungssumme prüfen, Umstellung ins neue Tarifwerk prüfen"></div>
        <div class="col-6"><label>Vergleich (Direkt) Versicherer</label><input name="vergleichDirektVersicherer" type="text"></div>
        <div class="col-3"><label>Vergleich Beitrag (€)</label><input name="vergleichDirektBeitrag" type="number" step="0.01"></div>
        <div class="col-6"><label>Empfehlung Versicherer</label><input name="empfehlungVersicherer" type="text"></div>
        <div class="col-3"><label>Empfehlung Beitrag (€)</label><input name="empfehlungBeitrag" type="number" step="0.01"></div>
        <div class="col-12"><label>Hinweise Vertrag (optional)</label><textarea name="hinweiseVertrag"></textarea></div>
        <div class="col-12"><label>Interner Vermerk (nur intern, nicht im Druck)</label><textarea name="internVermerk"></textarea></div>
      </div>
      <div style="display:flex; gap:8px; margin-top:12px;">
        <button class="btn btn-primary" type="submit">Speichern</button>
        <button class="btn" type="button" id="m-cancel">Abbrechen</button>
      </div>
    </form>
  </div>
</div>
<input type="file" id="file" accept="application/json" style="display:none"/>
</div></div>
    </div>
  </div>
  <script>parent.postMessage({type:'set-title', value: 'Verträge/Sparten'}, '*');</script>
  <script src="./module.js"></script>
</body></html>
